#include "stdint.h"
#include "TETRIS_ENUMS.h"

#ifndef SRS
#define SRS 

struct SRSOffest {
    int8_t offsetx;
    int8_t offsety;
};

const SRSOffest offsets180[4][6] =  {
    {{0, 0}, {0, -1}, {1, -1}, {-1, -1}, {1, 0}, {-1, 0}},
    {{0, 0}, {1, 0}, {1, -2}, {1,-1}, {0, -2}, {0, -1}},
    {{0, 0}, {0, 1}, {-1, 1}, {1, 1}, {-1, 0}, {1, 0}},
    {{0, 0}, {-1, 0}, {-1, -2}, {-1, -1}, {0, -2}, {0, -1}}
};

const SRSOffest offsets90[4][5] = {
    {{0, 0},{-1, 0},{-1, -1},{0, 2},{-1, 2}},
    {{0, 0},{1, 0},{1, 1},{0, -2},{1, -2}},
    {{0, 0},{1, 0},{1, -1},{0, 2},{1, 2}},
    {{0, 0},{-1, 0},{-1, 1},{0, -2},{-1, -2}}
};

const SRSOffest offsets270[4][5] = {
    {{0, 0},{1, 0},{1, -1},{0, 2},{1, 2}},
    {{0, 0},{1, 0},{1, 1},{0, -2},{1, -2}},
    {{0, 0},{-1, 0},{-1, -1},{0, 2},{-1, 2}},
    {{0, 0},{-1, 0},{-1, 1},{0, -2},{-1, -2}}
};

const SRSOffest offsetsI90[4][5] = {
    {{0, 0},{1, 0},{-2, 0},{-2, 1},{1, -2}},
    {{0, 0},{-1, 0},{2, 0},{-1, -2},{2, 1}},
    {{0, 0},{2, 0},{-1, 0},{2, -1},{-1, 2}},
    {{0, 0},{1, 0},{-2, 0},{1, -2},{-2, -1}}
};

const SRSOffest offsetsI270[4][5] = {
    {{0, 0},{-1, 0},{2, 0},{2, 1},{-1, -2}},
    {{0, 0},{-1, 0},{2, 0},{-1, -2},{2, 1}},
    {{0, 0},{-2, 0},{1, 0},{-2, -1},{1, 2}},
    {{0, 0},{1, 0},{-2, 0},{1, -2},{-2, 1}}
};

SRSOffest* getSRSOffsetsFromTypeAndRotation(PieceType type, Rotation currentRotation, Rotation rotation, int* offsetAmount); 

#endif